<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/src/styles/styles.scss">
    <title>Eryndor</title>
</head>

<!--
    1. NavBar
        1.1 NavItems
    2. Banner
    3. Cards
    4. JS Imports
-->

<body>
    <nav class="side-nav">
        <div class="nav-brand">
            <img src="/src/images/Eryndor_Logo.png" alt="Eryndor Logo" class="nav-logo">
        </div>

        <!-- Navigation Items -->
        <ul class="nav-list">
            <li class="nav-item">
                <a href="index.html" class="nav-link">
                    <i class="fas fa-home"></i>
                    <span class="link-text">Home</span>
                </a>
            </li>

            <li class="nav-item has-submenu">
                <a href="#" class="nav-link">
                    <i class="fas fa-user"></i>
                    <span class="link-text">Characters</span>
                    <i class="fas fa-chevron-down dropdown-arrow"></i>
                </a>
                <ul class="submenu">
                    <li class="submenu-item"><a href="pages/npcs.html">NPCs</a></li>
                    <li class="submenu-item"><a href="pages/pc.html">Players</a></li>
                </ul>
            </li>

            <li class="nav-item has-submenu">
                <a href="#" class="nav-link">
                    <i class="fas fa-book"></i>
                    <span class="link-text">Lore</span>
                    <i class="fas fa-chevron-down dropdown-arrow"></i>  
                </a>
                <ul class="submenu">
                    <li class="submenu-item"><a href="#">The Peoples of Eryndor</a></li>
                    <li class="submenu-item"><a href="pages/worldlore.html">World Lore</a></li>
                </ul>
            </li>

            <li class="nav-item" id="loginItem">
                <a href="#" onclick="toggleLogin(true)" class="nav-link">
                    <i class="fas fa-sign-in-alt"></i>
                    <span class="link-text">Login</span>
                </a>
            </li>

            <li class="nav-item has-submenu" id="userDropdown" style="display: none;">
                <a href="#" class="nav-link">
                    <i class="fas fa-user-circle"></i>
                    <span class="link-text" id="userNameDisplay">Player</span>
                    <i class="fas fa-chevron-down dropdown-arrow"></i>
                </a>
                <ul class="submenu">
                    <!-- Player Only -->
                     <li class="player-only"><a href="#"><i class="fas fa-backpack"></i> Inventory</a></li>
                     <li class="player-only"><a href="#"><i class="fas fa-scroll"></i> Notes</a></li>
                     <li class="player-only"><a href="#"><i class="fas fa-fire"></i> Feats / Spells</a></li>
                    <!-- DM-Only -->
                    <li class="dm-only"><a href="pages/dm_pages.html"><i class="fas fa-hat-wizard"></i>DM ToolKit</a></li>
                    <!-- Shared -->
                     <li><a href="#" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
                </ul>
            </li>
        </ul>
    </nav>

    <!-- Mobile Menu Toggle -->
    <div class="nav-toggle" id="navToggle">
        <i class="fa-solid fa-bars"></i>
    </div>

    <!-- Main Content-->
    <main class="main-content">

    </main>

    <!----------------------------- Login Modal ------------------------------------------>
    <div id="loginModal" class="modal" style="display: none;">
        <div class="modal-header">
            <h2 class="modal-title">Adventurer's Login</h2>
            <div class="modal-close" onclick="toggleLogin(false)"><i class="fas fa-times"></i></div>

            <div class="auth-toggle">
                <button class="auth-toggle-btn active" id="loginToggle">Login</button>
                <button class="auth-toggle-btn" id="createAccountToggle">Register</button>

            </div>
        </div>

        <div class="modal-content">
            <!-- Login Form -->
            <form id="loginForm">
                <div class="form-group">
                    <label for="username" class="form-label">Character Name</label>
                    <input type="text" id="username" class="form-input" placeholder="Enter Username" required>
                </div>
                <div class="form-group">
                    <label for="password" class="form-label">Secret Passphrase</label>
                    <input type="password" id="password" class="form-input" placeholder="Enter Your Secret Passphrase" required>
                </div>
                <button type="submit" class="btn btn-primary" onclick="login()"><i class="fas fa-dragon"></i>Enter The Realm</button>
            </form>

            <!-- Registration Form -->
            <form id="createAccountForm">
                <div class="form-group">
                    <label for="newUsername" class="form-label">Character Name</label>
                    <input type="text" id="newUsername" class="form-input" placeholder="Name Your Character" required>
                </div>

                <div class="form-group">
                    <label for="newPassword" class="form-label">Secret Passphrase</label>
                    <input type="password" id="newPassword" class="form-input" placeholder="Create A Secure Passphrase" required>
                    <p class="password-requirements">Password Must Be At Least 6 Characters</p>
                </div>

                <div class="form-group">
                    <label for="confirmPassword" class="form-label">Confirm Password</label>
                    <input type="password" id="confirmPassword" class="form-input" placeholder="Reapeat Your Passphrase" required>
                </div>
                <button type="submit" class="btn btn-primary"><i class="fas fa-scroll"></i>Create Character</button>
            </form>
            <div class="modal-footer">
                <p>Seek the Dungeon Master if you've forgotten your passphrase</p>
                <p>Need Assistance? <a href="#" class="footer-link">Send A Raven</a></p>
            </div>
        </div>
    </div>
</body>

<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>

<!-- Our init + logic -->
<script src="src/js/firebase-init.js"></script>

<script src="src/js/nav.js"></script>
<script src="https://kit.fontawesome.com/7731291074.js" crossorigin="anonymous"></script>
</html>
